---
layout: default
---
{% include exp-header.html %}
  <article class="post">
    {% include exp-list.html %}
<h1 id="3ï¸âƒ£ ë§ˆí¬ë·°(ë¯¸êµ­) - ë¯¸êµ­ ìœ ì‚¬ ìƒí‘œ ì´ë¯¸ì§€ ê²€ìƒ‰ ì„œë¹„ìŠ¤">3ï¸âƒ£ ë§ˆí¬ë·°(ë¯¸êµ­) - ë¯¸êµ­ ìœ ì‚¬ ìƒí‘œ ì´ë¯¸ì§€ ê²€ìƒ‰ ì„œë¹„ìŠ¤</h1>
<p class="meta"><small>ğŸ“… 2022.10 ~ 2022.11</small></p><hr/>
  <ul>
    <h3>ğŸ“š ì‚¬ìš© ìŠ¤íƒ</h3>
    <img src="https://img.shields.io/badge/Python-3776AB.svg?&style=for-the-badge&logo=Python&logoColor=white"/>
    <img src="https://img.shields.io/badge/PyTorch-EE4C2C.svg?&style=for-the-badge&logo=PyTorch&logoColor=white"/>
    <img src="https://img.shields.io/badge/Pandas-150458.svg?&style=for-the-badge&logo=Pandas&logoColor=white"/>
    <img src="https://img.shields.io/badge/OpenCV-5C3EE8.svg?&style=for-the-badge&logo=OpenCV&logoColor=white"/>
    <img src="https://img.shields.io/badge/Docker-2496ED.svg?&style=for-the-badge&logo=Docker&logoColor=white"/>
    <img src="https://img.shields.io/badge/fastapi-009688.svg?&style=for-the-badge&logo=fastapi&logoColor=white"/>
    <img src="https://img.shields.io/badge/mongodb-47A248.svg?&style=for-the-badge&logo=MongoDB&logoColor=white"/>
    <br><br>

    <h3>ğŸ’» ê°œë°œ í™˜ê²½</h3>
      <img src="https://img.shields.io/badge/Ubuntu-E95420.svg?&style=for-the-badge&logo=ubuntu&logoColor=white"/>
    <br><br>

    <h3>ğŸ‘¥ íŒ€í”„ë¡œì íŠ¸ </h3>
    <small><b>AI ì—”ì§€ë‹ˆì–´ 1</b>, ë°±ì—”ë“œ ì—”ì§€ë‹ˆì–´ 1, í”„ë¡ íŠ¸ì—”ë“œ ì—”ì§€ë‹ˆì–´ 1</small>
    <br><br>
      <ol>
        <li> ë¯¸êµ­ ìœ ì‚¬ ìƒí‘œ ì´ë¯¸ì§€ ê²€ìƒ‰ API ê°œë°œ</li>
        <li> ìœ ì‚¬ ìƒí‘œ ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ìœ„í•œ ë¯¸êµ­ ìƒí‘œ ì´ë¯¸ì§€ 100ë§Œì—¬ê°œ í”¼ì³ë§µ ë°ì´í„° ë² ì´ìŠ¤ êµ¬ì¶•</li>
        <ul>
          <li> pymongoë¥¼ ì´ìš©í•œ DB ì¡°íšŒ ë° ë°ì´í„° ì¶”ì¶œ</li>
          <li> ì´ë¯¸ì§€ ì „ì²˜ë¦¬, í”¼ì³ë§µ ìƒì„±, ë³‘í•©</li>
        </ul>
        <li> FastAPIë¥¼ ì´ìš©í•œ API ì„œë²„ ê°œë°œ ë° í”„ë¡ íŠ¸ ì—”ë“œ í˜‘ì—… ê²½í—˜</li>
      </ol>
    <br><br>

    <h3>ğŸ‰ ê²°ê³¼ ë° ì„±ê³¼</h3>
      <ul>
        <li>ë§ˆí¬ë·° ë¯¸êµ­ ë² íƒ€ë²„ì „ ëŸ°ì¹­</li><br>
        <il>
          FastAPI Code ì¼ë¶€
          <br/>
          <div class="colorscripter-code" style="color:#f0f0f0;font-family:ë‚˜ëˆ”ê³ ë”•ì½”ë”© !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:ë‚˜ëˆ”ê³ ë”•ì½”ë”© !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:ë‚˜ëˆ”ê³ ë”•ì½”ë”© !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">@app.post(<span style="color:#ffd500">"/USuploadfile"</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">def</span>&nbsp;upload_queryImg(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;top&nbsp;:&nbsp;Optional[<span style="color:#4be6fa">int</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;Form(<span style="color:#c10aff">1000</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;:&nbsp;Optional[<span style="color:#4be6fa">str</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;Form(<span style="color:#ffd500">"resnet18"</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4be6fa">file</span>:UploadFile&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;File(...),&nbsp;<span style="color:#999999">#&nbsp;ì¿¼ë¦¬ì´ë¯¸ì§€&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;result_version:&nbsp;Optional[<span style="color:#4be6fa">int</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;Form(<span style="color:#c10aff">0</span>),&nbsp;<span style="color:#999999">#&nbsp;ì¼ë°˜ê²€ìƒ‰&nbsp;:&nbsp;0&nbsp;,&nbsp;ìš”ë¶€ê²€ìƒ‰&nbsp;:&nbsp;1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;api_key:&nbsp;APIKey&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;Depends(get_api_key)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;query_data&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;QueryInput(query_img&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;QueryImage(query_img<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#4be6fa">file</span>),&nbsp;request_info&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;RequestInfo(top<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>top,&nbsp;model<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>model,&nbsp;result_version<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>result_version))&nbsp;<span style="color:#999999">#&nbsp;entity&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;service&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;AppService(query_data)&nbsp;<span style="color:#999999">#&nbsp;npy&nbsp;load</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;result&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;service.run()&nbsp;<span style="color:#999999">#&nbsp;ì „ì²˜ë¦¬&nbsp;ë°&nbsp;í”¼ì³ë§µ&nbsp;ë¹„êµ&nbsp;ì‘ì—…&nbsp;ìˆ˜í–‰</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;rv&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;{<span style="color:#ffd500">"meta"</span>:{},&nbsp;<span style="color:#ffd500">"data"</span>:result}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#ff3399">return</span>&nbsp;rv</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
        </il>
      </ul>
    </ul>
