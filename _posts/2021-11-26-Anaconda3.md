---
title: Anaconda3 μ„¤μΉ λ° κ°€μƒν™κ²½ λ§λ“¤κΈ° + pycharm μ—°λ™
excerpt: tensorflow gpu ν™κ²½ + jupyter notebok μ»¤λ„ μ„¤μ •
date: 2021-11-26 11:15:00 +0800
categories: [settings]
tags: [python, ML/DL]
toc: true
toc_sticky: true
---

## Anaconda3 μ„¤μΉ
* [Anaconda3 λ‹¤μ΄λ΅λ“](https://www.anaconda.com/products/individual)ν›„ path μ„¤μ • μ²΄ν¬ν•κ³  μ„¤μΉν•λ©΄ λ

### κ°€μƒν™κ²½ λ§λ“¤κΈ°

* μ•„λ‚μ½λ‹¤ ν”„λ΅¬ν”„νΈ(κ΄€λ¦¬μκ¶ν• μ‹¤ν–‰)μ—μ„ python3.6 λ²„μ „μΌλ΅ py36μ΄λΌλ” κ°€μƒν™κ²½μ„ λ§λ“ λ‹¤.<br>


```
conda create -n py36 python=3.6
```

κ°μΈμ μΌλ΅ μ‹¤ν—ν• λ• νμ΄μ¬ λ²„μ „μ— λ”°λΌ μ¶©λμΌμ–΄λ‚κ±°λ‚ μ•λμ•„κ°€λ” ν¨ν‚¤μ§€κ°€ μμ–΄μ„ λ²„μ „λ³„λ΅ μ΄λ¦„ λ¶™μ—¬μ„ λ§λ“λ”κ² μΆ‹μ€ λ“―<br>


### κ°€μƒν™κ²½ λ©λ΅ ν™•μΈ

```
conda env list
```

λ§λ“¤μ–΄μ§„ κ°€μƒ ν™κ²½μ€ C:\ProgramData\Anaconda3\envs\{κ°€μƒν™κ²½μ΄λ¦„} κ²½λ΅μ— μλ‹¤.<br>
νμ΄μ°Έμ—μ„ μΈν„°ν”„λ¦¬ν„° μ„¤μ • λ“¤μ–΄κ°€μ„ existing Envμ— μ„μ κ²½λ΅μ— μλ” python.exe μ„ νƒν•λ©΄ μ—°λ™ λ<br>
νμ΄μ°Έ ν„°λ―Έλ„μ—μ„ ν•„μ”ν• ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•λ©΄ λλ‹¤. <br>

### κ°€μƒν™κ²½ ν™μ„±ν™”, λΉ„ν™μ„±ν™”, μ‚­μ ν•κΈ°

```
conda activate py39
conda deactivate
conda remove -name py39 --all
```

conda listλ¥Ό μ…λ ¥ν•λ©΄ ν„μ¬ ν™μ„±ν™” λμ–΄μλ” ν™κ²½μ— μ„¤μΉλμ–΄μλ” ν¨ν‚¤μ§€ λ©λ΅μ„ λ³Ό μ μλ‹¤.<br>
```
(base) C:\Windows\system32>conda list
# packages in environment at C:\ProgramData\Anaconda3:
#
# Name                    Version                   Build  Channel
_ipyw_jlab_nb_ext_conf    0.1.0            py39haa95532_0
alabaster                 0.7.12             pyhd3eb1b0_0
anaconda                  2021.11                  py39_0
anaconda-client           1.9.0            py39haa95532_0
anaconda-navigator        2.1.1                    py39_0
anaconda-project          0.10.1             pyhd3eb1b0_0
```

## tensorflow-gpu ν™κ²½ λ§λ“¤κΈ°

<br>
### Visual Studio, CUDA, cuDNN μ„¤μΉ
* CUDA μ„¤μΉν•  λ• [Visual Studio](https://visualstudio.microsoft.com/ko/thank-you-downloading-visual-studio/?sku=Community&rel=17)λ¥Ό κΉ”μ•„μ•Ό λλ‹¤κ³  κ°•μ”ν•λ‹¤ γ… .γ…  2022 λ²„μ „μΌλ΅ μ„¤μΉ ν–λ‹¤.<br>
* [CUDA](https://developer.nvidia.com/cuda-toolkit-archive)λ‘ [cuDNN](https://developer.nvidia.com/rdp/cudnn-archive)μ€ λ‹¤μ΄ λ°›κΈ° μ „ [μ—¬κΈ°](https://www.tensorflow.org/install/source_windows#tested_build_configurations)μ—μ„ νΈν™λλ” λ²„μ „ ν™•μΈ<br>
* λ‚λ” CUDA 10.0, cuDNN 7.6.5λ²„μ „μ„ λ°›μ•λ‹¤.<br>
* CUDA μ„¤μΉ ν›„ C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0 κ²½λ΅μ— cuDNN μ••μ¶• ν•΄μ ν• νμΌλ“¤μ„ λ®μ–΄μ”μ›μ¤€λ‹¤.<br>
* μ„¤μΉκ°€ μ™„λ£λλ©΄ cmdμ— `nvcc --version`μ„ μ…λ ¥ν•΄μ„ μ λ€λ΅ μ„¤μΉλλ”μ§€ ν™•μΈν•λ‹¤. <br>

```
nvcc: NVIDIA (R) Cuda compiler driver
Copyright (c) 2005-2018 NVIDIA Corporation
Built on Sat_Aug_25_21:08:04_Central_Daylight_Time_2018
Cuda compilation tools, release 10.0, V10.0.130
```

μ”λ ‡κ² λ‚μ¤λ©΄ μ„¤μΉ μ„±κ³µ. `nvidia-smi`λ΅λ„ CUDA λ²„μ „ ν™•μΈμ΄ κ°€λ¥ν•λ° nvccλ΅ ν™•μΈν•λ”κ² μ •ν™•ν•λ‹¤κ³  ν•λ‹¤. nvidia-smiλ΅ ν™•μΈν•λ©΄ 11.5λ΅ λ‚μ΄.

```
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 496.76       Driver Version: 496.76       CUDA Version: 11.5     |
|-------------------------------+----------------------+----------------------+
```

### tensorflow-gpu μ„¤μΉ
* λ‹¤μ‹ condaλ΅ λμ•„μ™€μ„ κ°€μƒν™κ²½μ„ ν™μ„±ν™” ν• ν›„ CUDA 10.0κ³Ό μΉν• tensorflow-gpu λ²„μ „μ„ κ³¨λΌ μ„¤μΉν•΄ μ¤€λ‹¤.<br>
* 1.13.0 ~ 2.0.0 λ²„μ „ μ¤‘ 2.0.0 λ²„μ „μ„ κ³¨λλ‹¤. μ„¤μΉν•λ”κΉ€μ— μΌ€λΌμ¤λ„ κ°™μ΄ ν–λ‹¤. λ²„μ „μ„ μ§€μ • μ•ν–λ”λ° 2.2.4λ²„μ „μ΄ μ„¤μΉ λμ—λ‹¤.

```
pip install tensorflow-gpu==2.0.0
pip install keras
```

* μ„¤μΉκ°€ μ™„λ£λλ©΄ μ λ€λ΅ μ„¤μΉλλ”μ§€ ν™•μΈν•λ‹¤.

```
>>> import tensorflow as tf
2021-11-27 03:59:32.415300: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_100.dll
>>> tf.__version__
'2.0.0'
>>> import keras
Using TensorFlow backend.
>>> keras.__version__
'2.2.4'
```

* GPUλ¥Ό μ λ€λ΅ μ‚¬μ©ν•λ”μ§€ μ²΄ν¬ν•κΈ° [API μ°Έκ³ ](https://teddylee777.github.io/tensorflow/%EB%94%A5%EB%9F%AC%EB%8B%9D-framework-GPU%EC%82%AC%EC%9A%A9%EC%B2%B4%ED%81%AC-API) <br>
* tensorflowλ” μ λ€λ΅ trueκ°€ λ‚μ¤λ”λ° kerasλ” AttributeError: module 'tensorflow_core.keras.backend' has no attribute '_get_available_gpus'λΌλ” μ—λ¬κ°€ λ¬λ‹¤. κµ¬κΈ€λ§ ν•΄λ³΄λ‹ tensorflow 1.15.0 μ΄ν•μ—μ„λ§ μ‘λ™ ν•λ” λ“― ν•λ‹¤.<br>
<br>
### μ£Όν”Όν„° λ…ΈνΈλ¶ μ»¤λ„ μ—°κ²°

μ£Όν”Όν„° λ…ΈνΈλ¶μ΄ κ·Έλν”„λ‘ ν‘λ„ λ³΄κΈ° νΈν•κ³  κΉ”λ”ν•΄μ„ μ£Όν”Όν„° λ…ΈνΈλ¶μ„ μ£Όλ΅ μ“°κΈ°λ΅ ν–λ‹¤.<br>
κ°€μƒν™κ²½μ„ ν™μ„±ν™” ν•΄μ£Όκ³  κ°€μƒν™κ²½μ•μ— μ£Όν”Όν„° λ…ΈνΈλ¶κ³Ό μ»¤λ„μ„ μ„¤μΉν•λ‹¤<br>

```
pip install jupyter notebook
pip install ipykernel

python -m ipykernel install --user --name {κ°€μƒν™κ²½μ΄λ¦„} --display-name {ν‘μ‹ν• μ΄λ¦„}
```
<br>
### μ£Όν”Όν„° λ…ΈνΈλ¶ ν…λ§ λ³€κ²½
μ¶”μ² ν…λ§ π

```
pip install jupyterthemes

jt -t monokai -fs 115 -nfs 125 -tfs 115 -dfs 115 -ofs 115 -cursc r -cellw 80% -lineh 115 -altmd  -kl -T -N
```

ν…λ§ μƒμ„Έ μ„¤μ • μ°Έκ³ λ” [μ—¬κΈ°](https://realblack0.github.io/2020/05/13/jupyter-notebook-themes.html)μ—μ„<br>